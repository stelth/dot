---
- defaults:
    link:
      relink: true
      create: true
      glob: true
    clean:
      force: true
      recursive: true
    packageHandler:
      managers:
        - apt
        - brew
        - cargo
        - ghq
        - luarocks
        - neva
        - npm
        - pip
    ghq:
      installCmds: ["ghq get [flags] [package]"]
      flags: ["--update", "--silent"]
    pip:
      installCmds: ["pip3 install [flags] [package]"]
      listCmd: "pip3 list [flags] | grep [package]"
      updateCmds:
        [
          "pip3 freeze --local [flags] | grep -v '^-e' | cut -d = -f 1 | xargs -n1 pip3 install -U [flags]",
        ]
      flags: ["--user"]
    brew:
      installCmds: ["brew install [flags] [package]"]
      listCmd: "brew ls [flags] [package]"
      updateCmds:
        [
          "brew update",
          "brew upgrade",
          "brew cleanup",
          "brew cleanup -s",
          "brew missing",
          "brew bundle dump",
          "brew bundle --force cleanup",
          "rm Brewfile",
        ]
      if: '[ "$(whoami)" != "root" ]'
    npm:
      installCmds: ["npm install [flags] [package]"]
      listCmd: "npm list [flags] [package]"
      updateCmds: ["npm update [flags]"]
      flags: ["--prefix ~/.node"]
    apt:
      installCmds: ["apt-get install [flags] [package]"]
      listCmd: "apt list --installed [package] | grep [package]"
      updateCmds:
        [
          "apt-get update -y --allow-unauthenticated",
          "apt-get upgrade -y --allow-unauthenticated",
          "apt-get dist-upgrade -y -f --allow-unauthenticated",
          "apt autoremove -y -f",
        ]
      if: '[ "$(uname)" = "Linux" ] && [ "$(whoami)" = "root" ]'
    neva:
      installCmds: ["~/dotfiles/dotbot-plugins/neva install [package] [flags]"]
      flags: ["--force"]
    cargo:
      installCmds: ["cargo install [flags] [package]"]
      listCmd: "cargo install [flags] --list | grep [package]"
      updateCmds: ["cargo install-update -a"]
    luarocks:
      installCmds: ["luarocks install [flags] [package]"]
      listCmd: "luarocks list [flags] | grep [package]"

- clean:
    ~/:
      recursive: false
    ~/.config:

- ghq:
    zsh-users/zsh-syntax-highlighting.git:
    zsh-users/zsh-autosuggestions:
    jreese/zsh-titles:
    psprint/zsh-navigation-tools.git:

- neva:
    nightly:

- apt:
    build-essential:
    clang-format:
    cmake:
    curl:
    tmux:
    zsh:
    latexmk:
    texlive-science:
    texlive-bibtex-extra:
    texlive-latex-extra:

- pip:
    pip:
    pynvim:
    yamllint:
    flake8:
    autopep8:
    vim-vint:
    debugpy:
    cmake-language-server:

- npm:
    npm:
    tree-sitter-cli:
    markdownlint-cli:
    prettier:
    yarn:
    bash-language-server:
    vscode-json-languageserver:
    pyright:
    vim-language-server:
    yaml-language-server:
    eslint_d:
    typescript-language-server:

- brew:
    lazygit:
    shellcheck:
    shfmt:
    go:
    ghq:
    zoxide:
    jq:
    gojq:
    llvm:
    mactex-no-gui:
      if: '[ "$(uname)" = "Darwin" ]'
      flags: ["--cask"]
    glow:
    hub:
    starship:
    efm-langserver:
    texlab:

- cargo:
    cargo-update:
    selene:
    stylua:

- package:
    lua-language-server:
      installCmds: ["~/dotfiles/dotbot-plugins/scripts/sumneko_lua.sh"]
    jdtls:
      installCmds: ["~/dotfiles/dotbot-plugins/scripts/jdtls.sh"]

- link:
    ~/:
      path: home/*
      prefix: "."
    ~/.config:
      path: config/*
