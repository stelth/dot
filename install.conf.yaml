---
- defaults:
    link:
      relink: true
      create: true
      glob: true
    clean:
      force: true
      recursive: true
    ghq:
      flags: ['--update', '--silent']
    pip:
      flags: ['--user']
    brew:
      if: '[ "$(whoami)" != "root" ]'
    npm:
      flags: ['--prefix ~/.node']
    apt:
      if: '[ "$(uname)" = "Linux" ] && [ "$(whoami)" = "root" ]'

- clean:
    ~/:
      recursive: false
    ~/.config:

- ghq:
    - repo: zsh-users/zsh-syntax-highlighting.git
    - repo: zsh-users/zsh-autosuggestions
    - repo: jreese/zsh-titles
    - repo: psprint/zsh-navigation-tools.git

- neovim:
    nvim_linux:
      if: '[ "$(uname)" = "Linux" ]'
      updateCmds:
        - curl -L https://github.com/neovim/neovim/releases/download/nightly/nvim.appimage --create-dirs -o nvim_bin/nvim.appimage
        - chmod u+x nvim_bin/nvim.appimage
    nvim_darwin:
      if: '[ "$(uname)" = "Darwin" ]'
      updateCmds:
        - curl -L https://github.com/neovim/neovim/releases/download/nightly/nvim-macos.tar.gz --create-dirs -o nvim_bin/nvim-macos.tar.gz
        - tar xvf nvim_bin/nvim-macos.tar.gz -C nvim_bin
        - rm -rf nvim_bin/nvim-macos.tar.gz

- apt:
    build-essential:
    clang-format:
    cmake:
    curl:
    tmux:
    zsh:
    latexmk:
    texlive-science:
    texlive-bibtex-extra:
    texlive-latex-extra:

- pip:
    pynvim:
    yamllint:
    flake8:
    autopep8:
    vim-vint:

- npm:
    npm:
    tree-sitter-cli:
    markdownlint-cli:
    prettier:

- luarocks:
    luaformatter:

- brew:
    lazygit:
    luarocks:
    shellcheck:
    shfmt:
    go:
    ghq:
    zoxide:

# neovim specific link
- link:
    ~/bin/nvim:
      if: '[ "$(uname)" = Linux ]'
      path: nvim_bin/nvim.appimage
- link:
    ~/bin/nvim:
      if: '[ "$(uname)" = Darwin ]'
      path: nvim_bin/nvim-osx64/bin/nvim

- link:
    ~/:
      path: home/*
      prefix: '.'
    ~/.config:
      path: config/*
